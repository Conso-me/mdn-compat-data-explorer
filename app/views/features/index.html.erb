<div class="container">
  <div class="container">
  <div class="row py-4 w-100">
    <%= form_tag("/features", method: "get", class: "w-100") do %>
      <%= text_field_tag(:query, 
                         params['query'],
                         placeholder: "Search",
                         class: "form-control") %>

      <div class="py-2 w-100">
        <div class="px-2 d-block d-md-inline-block">
          Categories:
        </div>
        <% @categories.each do |key, value| %>
          <div class="px-2 d-block d-md-inline-block">
            <%= check_box_tag(
              "categories[]",
              key,
              (true if params["categories"].present? && params["categories"].include?(key.to_s)),
              {id: key}
            ) %>
            <%= label_tag(key, value) %>
          </div>
        <% end %>
      </div>
      <div class="py-2 w-100">
        <div class="px-2 d-block d-md-inline-block">
          Filters:
        </div>
        <div class="px-2 d-block d-md-inline-block">
          <%= label_tag("mdn_url", "Includes an MDN URL?") %>
          <%= select_tag(
            "mdn_url",
            options_for_select([['Has an MDN URL', true], ['Has no MDN URL', false]], params["mdn_url"]),
            { include_blank: true }
          ) %>
        </div>
      </div>

      <%= submit_tag("Search", class: "btn btn-primary btn-lg btn-block") %>
    <% end %>
  </div>

  <div class="row">
    <% unless @feature_count.zero? %>
      <p>Features: <%= @feature_count %></p>
    <% end %>
    
    <%= render 'features_list',
        features: @features,
        browsers: @browsers %>
  </div>
</div>

</div>
